<div class="flex justify-center items-center  w-screen ">

  <form class="checkout-form md:w-1/3 w-full py-10 " *ngIf="!paymentHistory" [formGroup]="paymentForm"
    (ngSubmit)="pay()">
    <h1>Hello {{currentUser?.email}}, Your total is {{checkoutPrice}}</h1>
    <div class="mb-4">
      <label for="line1" class="block text-gray-700">Address Line 1</label>
      <input type="text" formControlName="line1" id="line1" class="border border-gray-300 rounded-md px-3 py-2 w-full"
        placeholder="Enter Address Line 1">
      <div *ngIf="paymentForm.get('line1')?.invalid && paymentForm.get('line1')?.touched" class="text-red-500 mt-1">
        Address Line 1 is required</div>
    </div>
    <div class="mb-4">
      <label for="postal_code" class="block text-gray-700">Postal Code</label>
      <input type="text" formControlName="postal_code" id="postal_code"
        class="border border-gray-300 rounded-md px-3 py-2 w-full" placeholder="Enter Postal Code">
      <div *ngIf="paymentForm.get('postal_code')?.invalid && paymentForm.get('postal_code')?.touched"
        class="text-red-500 mt-1">Required Postal Code</div>
    </div>
    <div class="mb-4">
      <label for="city" class="block text-gray-700">City</label>
      <input type="text" formControlName="city" id="city" class="border border-gray-300 rounded-md px-3 py-2 w-full"
        placeholder="Enter City">
      <div *ngIf="paymentForm.get('city')?.invalid && paymentForm.get('city')?.touched" class="text-red-500 mt-1">
        Required City</div>
    </div>
    <div class="mb-4">
      <label for="state" class="block text-gray-700">State</label>
      <input type="text" formControlName="state" id="state" class="border border-gray-300 rounded-md px-3 py-2 w-full"
        placeholder="Enter State">
      <div *ngIf="paymentForm.get('state')?.invalid && paymentForm.get('state')?.touched" class="text-red-500 mt-1">
        Required State</div>
    </div>

    <div class="mb-4">
      <label for="countryCode" class="block text-gray-700">Country</label>
      <input type="text" formControlName="countryCode" id="countryCode"
        class="border border-gray-300 rounded-md px-3 py-2 w-full" placeholder="Enter Country Code">
      <div *ngIf="paymentForm.get('countryCode')?.invalid && paymentForm.get('countryCode')?.touched"
        class="text-red-500 mt-1">Required Country</div>
    </div>


    <div class="stripe-card  h-full w-full " ngxStripeCardGroup [elementsOptions]="elementsOptions">
      <h4 class="text-lg text-gray-700">Enter card details</h4>
      <div class="stripe-element border border-gray-300 py-3 px-2 mb-4  rounded-lg  ">
        <ngx-stripe-card-number [options]="cardOptions"></ngx-stripe-card-number>
      </div>
      <div fxLayout="row" fxLayoutGap="10px">
        <div class="w-full stripe-element py-3 px-2 border border-gray-300  mb-4 rounded-lg ">
          <ngx-stripe-card-expiry [options]="cardOptions"></ngx-stripe-card-expiry>
        </div>
        <div class="w-full stripe-element border border-gray-300 py-3 px-2 rounded-lg  mb-4  ">
          <ngx-stripe-card-cvc [options]="cardOptions"></ngx-stripe-card-cvc>
        </div>
      </div>
    </div>

    <div class="flex w-full p-2 justify-center ">
      <button
        class="border w-40 p-2  bg-yellow-400 hover:bg-yellow-500 ease-in-out duration-500 hover:scale-105 rounded-lg "
        type="submit">Submit Payment</button>

    </div>

  </form>


  <div *ngIf="paymentHistory" class="flex flex-col items-center justify-center h-screen">
    <div class="bg-white p-8 rounded-lg shadow-md text-center">
      <h1 class="text-3xl font-bold mb-4 animate-pulse duration-1000 ease-in-out">{{paymentMessage}}</h1>
    </div>
  </div>

</div>