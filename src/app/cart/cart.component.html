<div class="flex min-h-fit w-full">
    <div class="flex flex-col h-screen w-screen">

        <div class="flex w-full md:px-40  py-10 relative">
            <img src="assets/add1.jpg" class="h-36 object-cover w-full " />
            <button class="md:block hidden w-24 p-1 text-sm rounded-md absolute top-0 right-0 z-10 mt-20 mr-48 bg-gray-200">Learn More</button>
        </div>

        <div class="md:hidden flex h-full justify-center" *ngIf="itemsInCart.length>0">
            <div class="flex flex-col h-full  items-center justify-evenly md:text-lg text-xs  text-center ">
                <p>Subtotal of {{itemsInCart.length}} items is ${{totalCheckoutCost | number: '1.2-2'}}</p>
                <div class="flex flex-grow justify-center items-start w-full">
                    <button routerLink="/signin" *ngIf="currentUser?.email==null"
                        class="rounded-lg md:w-48 bg-yellow-300 hover:bg-yellow-400 text-center p-2 hover:shadow-2xl hover:ease-in-out duration-500 hover:text-orange-600">
                        Login to Checkout
                    </button>
                    <button routerLink="/checkout" *ngIf="currentUser?.email!=null"
                        class="rounded-lg md:w-48 bg-yellow-300 hover:bg-yellow-400 text-center p-2 hover:shadow-2xl hover:ease-in-out duration-500 hover:text-orange-600">
                        Checkout
                    </button>
                </div>
            </div>
        </div>

        <div class="flex flex-grow h-full w-full justify-evenly ">
            <div class="flex w-3/4 h-full" *ngIf="itemsInCart?.length==0">
                <div class="md:flex hidden w-2/3">
                    <img src="assets/jugs.svg" />
                </div>
                <div class="flex flex-col justify-evenly w-full h-full">
                    <div class="flex sm:justify-start justify-center items-center md:text-3xl text-lg h-1/2 ">
                        Your Amazon Cart is empty
                    </div>
                    <div class="flex justify-center items-start  h-1/2">
                        <button *ngIf="currentUser?.email==null" class="bg-yellow-400 hover:bg-yellow-400 hover:scale-105 transition ease-in-out duration-500 p-1 rounded-md w-32">Sign In </button>
                    </div>
                </div>
            </div>

            <div *ngIf="itemsInCart.length>0" class="flex flex-col h-full w-3/4">
                <div class="flex justify-start w-full md:text-3xl text-lg py-5">
                    Shopping Cart
                </div>
                <div class="flex flex-col flex-grow h-full w-full md: " *ngFor="let item of itemsInCart; let ind=index">
                    <div class="flex h-full justify-evenly p-4 shadow-lg hover:shadow-xl ease-in-out duration-700 ">
                        <div class="flex h-full max-w-32">
                            <img class="md:h-32 md:w-32 h-20 w-20 " [src]="item?.image" />
                        </div>
                        <div class="flex flex-col w-full h-full md:text-lg sm:text-sm text-xs">
                            <div class="flex  p-2 w-full  ">
                                {{item?.title}}
                            </div>
                            <div class="md:flex  hidden p-2 w-full max-h-24 overflow-x-auto font-Nunito my-2">
                                {{item.description}}
                            </div>
                            <div class="flex p-2 w-full font-Nunito my-2">
                                Price $ {{item?.price}}
                            </div>
                            <div class="flex p-2 w-full my-2">
                                rating: {{item.rating.rate}}
                                out of: {{item.rating.count}}
                            </div>
                            <div class="flex flex-col justify-evenly items-center  ">
                                <button (click)="addToCart(item)"
                                    class="rounded-lg w-48 bg-yellow-300 hover:bg-yellow-400 text-center p-2 my-4  hover:shadow-2xl ease-in-out duration-700 hover:text-orange-600">
                                    Add to Cart
                                </button>
                                <button (click)="removeFromCart(ind)"
                                    class="rounded-lg w-48 bg-yellow-300 hover:bg-yellow-400 text-center p-2  hover:shadow-2xl ease-in-out duration-700 hover:text-orange-600">
                                    Remove from Cart
                                </button>

                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <div class="md:flex hidden flex-col w-1/4 h-full  items-center md:text-lg text-sm ">

                <div class="flex h-full" *ngIf="itemsInCart.length>0">
                    <div class="flex flex-col h-full  items-start justify-evenly md:text-lg text-xs  text-center ">
                        <p>Subtotal of {{itemsInCart.length}} items is ${{totalCheckoutCost | number: '1.2-2'}}</p>
                        <div class="flex flex-grow justify-center items-start w-full">
                            <button routerLink="/signin" *ngIf="currentUser?.email==null"
                                class="rounded-lg md:w-48 bg-yellow-300 hover:bg-yellow-400 text-center p-2 hover:shadow-2xl hover:ease-in-out duration-500 hover:text-orange-600">
                                Login to Checkout
                            </button>
                            <button routerLink="/checkout" *ngIf="currentUser?.email!=null"
                                class="rounded-lg md:w-48 bg-yellow-300 hover:bg-yellow-400 text-center p-2 hover:shadow-2xl hover:ease-in-out duration-500 hover:text-orange-600">
                                Checkout
                            </button>
                        </div>
                    </div>
                </div>

                <div class="block  w-full h-full ">
                    <div class="flex text-center font-thin text-lg justify-center">Add more to your cart</div>
                    <div class="flex flex-col w-full p-5 md:text-lg sm:text-sm text-xs" *ngFor="let i of products.slice(0, 4)">
                        <app-card class=" shadow-sm " [item]="i"></app-card>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>